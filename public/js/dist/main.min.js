"use strict";var cache={};$.getJSON("http://localhost:3000/projects",function(e){function t(t,n){var a=utils.fragment($("#template--project").html()),c=t;$(a).find(".project .name").val(t),$(a).find(".project .path").val(n),$(a).find(".input-name input").on("input",function(){$(this).parents(".project").removeClass("force-deletion"),delete e[c],c=$(this).val(),e[c]=n,""===$(this).val()&&($(this).parents(".project").addClass("force-deletion"),delete e[c])}),$(a).find(".input-path input").on("input",function(){n=$(this).val(),e[c]=n}),$(a).find(".project .delete-project").click(function(){$(this).parent().addClass("disabled"),delete e[t]}),$(".projects-wrapper").append(a)}cache=JSON.parse(JSON.stringify(e))||{},$(".active-projects span").text(Object.keys(e).length),$(".manager .widget.save").click(function(){delete e["default"],$.post("http://localhost:3000/update",e,function(){location.reload()})}),$(".manager .widget.revert").click(function(){$(".project").removeClass("disabled"),e=cache}),$(".manager .widget.add").click(function(){e["New Gawper"]="",t("New Gawper","")}),$.each(e,t)});var utils={fragment:function(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t}};
